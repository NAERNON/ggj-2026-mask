[gd_scene format=3 uid="uid://duo10s40hrnjf"]

[ext_resource type="Script" uid="uid://dy78nvx7md1h5" path="res://scenes/main.gd" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://ba5ixoxqnb3gk" path="res://assets/masking_tape.tscn" id="1_o5qli"]
[ext_resource type="Texture2D" uid="uid://cj1mrtn34jdjd" path="res://aseprite/house/background.tres" id="2_sugp2"]
[ext_resource type="Texture2D" uid="uid://i2k4p6ekqwfd" path="res://aseprite/house/light.png" id="4_jyhfs"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0wfyh"]
size = Vector2(250, 285)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_o5qli"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o5qli"]
size = Vector2(125, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sugp2"]
size = Vector2(20, 125)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jyhfs"]
size = Vector2(750, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tbgi4"]
size = Vector2(20, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tefeu"]
size = Vector2(20, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o6xl0"]
size = Vector2(40, 40)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_tipki"]
size = Vector2(40, 40)

[node name="Main" type="Node2D" unique_id=714016782 node_paths=PackedStringArray("masking_tape", "platforms")]
script = ExtResource("1_0wfyh")
masking_tape = NodePath("MaskingTape")
epsilon_tape = 1.0
epsilon_corner = 2.5
rubber_width = 1.0
platforms = NodePath("Platforms")

[node name="Background" type="Sprite2D" parent="." unique_id=323147266]
texture = ExtResource("2_sugp2")
offset = Vector2(480, 270)

[node name="MaskingTape" parent="." unique_id=311947507 instance=ExtResource("1_o5qli")]
position = Vector2(77, 510)
scale = Vector2(0.03, 0.03)
initial_tape_dist = 500.0
roll_acceleration = 450.0
deceleration_scale = 10.0
jump_speed = 350.0
reroll_speed = 500.0
wall_roll_speed = 200.0
push_force = 10.0

[node name="MaskingTapes" type="Node" parent="." unique_id=589121195]

[node name="Platforms" type="Node" parent="." unique_id=655728539]

[node name="Library" type="StaticBody2D" parent="Platforms" unique_id=712307921]
position = Vector2(835, 385)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Library" unique_id=1030156514]
shape = SubResource("RectangleShape2D_0wfyh")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Library" unique_id=578743585]
scale = Vector2(250, 285)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="Shelf1" type="StaticBody2D" parent="Platforms" unique_id=78843935]
position = Vector2(499, 294)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf1" unique_id=187435732]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Shelf1" unique_id=492160534]
scale = Vector2(125, 20)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="Shelf2" type="StaticBody2D" parent="Platforms" unique_id=143559546]
position = Vector2(215, 294)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf2" unique_id=576037438]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Shelf2" unique_id=1239204147]
scale = Vector2(125, 20)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="Shelf3" type="StaticBody2D" parent="Platforms" unique_id=1514037618]
position = Vector2(215, 150)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf3" unique_id=470567573]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Shelf3" unique_id=484388257]
scale = Vector2(125, 20)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="Shelf4" type="StaticBody2D" parent="Platforms" unique_id=568626965]
position = Vector2(11, 219)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf4" unique_id=1479471729]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_sugp2")

[node name="Sprite2D" type="Sprite2D" parent="Platforms/Shelf4" unique_id=1178034037]
scale = Vector2(20, 125)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="Ground" type="StaticBody2D" parent="." unique_id=1731318811]
position = Vector2(475.00003, 537)
scale = Vector2(1.5, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ground" unique_id=1645058030]
shape = SubResource("RectangleShape2D_jyhfs")

[node name="Sprite2D" type="Sprite2D" parent="Ground" unique_id=417878601]
position = Vector2(-1.5258789e-05, 0)
scale = Vector2(750, 20)
texture = SubResource("PlaceholderTexture2D_o5qli")

[node name="WallLeft" type="StaticBody2D" parent="." unique_id=98253075]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallLeft" unique_id=217081376]
position = Vector2(-10, 272)
shape = SubResource("RectangleShape2D_tbgi4")

[node name="WallRight" type="StaticBody2D" parent="." unique_id=564108463]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallRight" unique_id=920841852]
position = Vector2(971, 285)
shape = SubResource("RectangleShape2D_tefeu")

[node name="Box" type="RigidBody2D" parent="." unique_id=962226803]
position = Vector2(215, 120)
mass = 0.001

[node name="CollisionShape2D" type="CollisionShape2D" parent="Box" unique_id=576251938]
shape = SubResource("RectangleShape2D_o6xl0")

[node name="Sprite2D" type="Sprite2D" parent="Box" unique_id=1141377628]
texture = SubResource("PlaceholderTexture2D_tipki")

[node name="PlayerLight" type="PointLight2D" parent="." unique_id=86818424]
position = Vector2(437, 367)
texture = ExtResource("4_jyhfs")

[connection signal="end_grip" from="MaskingTape" to="." method="_on_masking_tape_end_grip"]
[connection signal="reroll" from="MaskingTape" to="." method="_on_masking_tape_reroll"]
[connection signal="start_grip" from="MaskingTape" to="." method="_on_masking_tape_start_grip"]
[connection signal="touch_or_leave_floor" from="MaskingTape" to="." method="_on_masking_tape_touch_or_leave_floor"]
