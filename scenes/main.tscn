[gd_scene format=3 uid="uid://duo10s40hrnjf"]

[ext_resource type="Script" uid="uid://dy78nvx7md1h5" path="res://scenes/main.gd" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://ba5ixoxqnb3gk" path="res://assets/masking_tape.tscn" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://j3vg2jq6gkbr" path="res://scenes/start_menu.tscn" id="2_eb6dy"]
[ext_resource type="Texture2D" uid="uid://cj1mrtn34jdjd" path="res://aseprite/house/background.tres" id="2_sugp2"]
[ext_resource type="SpriteFrames" uid="uid://4w6ckhpyo2kk" path="res://aseprite/house/background_painting.tres" id="3_ya4ey"]
[ext_resource type="Texture2D" uid="uid://i2k4p6ekqwfd" path="res://aseprite/house/light.png" id="4_jyhfs"]
[ext_resource type="SpriteFrames" uid="uid://cu87v0mvt5ao6" path="res://aseprite/house/refill.tres" id="5_85g3d"]
[ext_resource type="Texture2D" uid="uid://d3fmtlbgwtw3" path="res://aseprite/house/box.png" id="5_choun"]
[ext_resource type="AudioStream" uid="uid://xp6qno3otn23" path="res://arts/musics/Rupture scotch.mp3" id="6_tefeu"]
[ext_resource type="AudioStream" uid="uid://cijr6u0a4t0xb" path="res://arts/musics/OBJTape_Ruban adhesif 1 (ID 0297)_LaSonotheque.fr.mp3" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://g6q11kun54wl" path="res://scenes/pause_menu.tscn" id="8_tipki"]
[ext_resource type="AudioStream" uid="uid://cmux78lwg126k" path="res://arts/musics/Menu_saxoscotch_goofy Version final.mp3" id="10_trceg"]
[ext_resource type="AudioStream" uid="uid://dkpe2slvjhvxj" path="res://arts/musics/Saxo-scotche goofy song Version finale.mp3" id="11_a8y0u"]
[ext_resource type="SpriteFrames" uid="uid://dnsa1tvpir8c0" path="res://aseprite/house/rolling_round.tres" id="14_a8y0u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0wfyh"]
size = Vector2(250, 290)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o5qli"]
size = Vector2(126, 21)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sugp2"]
size = Vector2(21, 129.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tipki"]
size = Vector2(140, 80)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jyhfs"]
size = Vector2(750, 17)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tbgi4"]
size = Vector2(20, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tefeu"]
size = Vector2(20, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o6xl0"]
size = Vector2(52, 52)

[sub_resource type="CircleShape2D" id="CircleShape2D_tbgi4"]

[node name="Main" type="Node2D" unique_id=714016782 node_paths=PackedStringArray("masking_tape", "platforms", "restock", "menu_music", "main_music", "rip_scotch", "unroll_scotch", "start_menu", "pause_menu")]
script = ExtResource("1_0wfyh")
masking_tape = NodePath("MaskingTape")
epsilon_tape = 1.0
epsilon_corner = 2.5
platforms = NodePath("Platforms")
restock = NodePath("Restock")
restock_value = 300.0
menu_music = NodePath("MenuMusic")
main_music = NodePath("MainMusic")
rip_scotch = NodePath("RipScotch")
unroll_scotch = NodePath("UnrollScotch")
start_menu = NodePath("StartMenu")
pause_menu = NodePath("Menu")

[node name="StartMenu" parent="." unique_id=153115375 instance=ExtResource("2_eb6dy")]
z_index = 2

[node name="Background" type="Sprite2D" parent="." unique_id=323147266]
light_mask = 3
texture = ExtResource("2_sugp2")
offset = Vector2(480, 270)

[node name="BackgroundAnimated" type="AnimatedSprite2D" parent="." unique_id=1504216153]
sprite_frames = ExtResource("3_ya4ey")
offset = Vector2(480, 270)

[node name="RollingAnimated" type="AnimatedSprite2D" parent="." unique_id=655439798]
position = Vector2(828, 120)
sprite_frames = ExtResource("14_a8y0u")

[node name="MaskingTape" parent="." unique_id=311947507 instance=ExtResource("1_o5qli")]
position = Vector2(76, 505)
collision_layer = 0
collision_mask = 15
floor_snap_length = 5.0
initial_tape_dist = 750.0
roll_acceleration = 450.0
deceleration_scale = 10.0
jump_speed = 350.0
reroll_speed = 500.0
wall_roll_speed = 200.0
push_force = 5.0

[node name="PlayerLight" type="PointLight2D" parent="MaskingTape" unique_id=86818424]
range_item_cull_mask = 2
texture = ExtResource("4_jyhfs")

[node name="MaskingTapes" type="Node" parent="." unique_id=589121195]

[node name="Platforms" type="Node" parent="." unique_id=655728539]

[node name="Library" type="StaticBody2D" parent="Platforms" unique_id=712307921]
position = Vector2(835, 385)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Library" unique_id=1030156514]
shape = SubResource("RectangleShape2D_0wfyh")

[node name="Shelf1" type="StaticBody2D" parent="Platforms" unique_id=78843935]
position = Vector2(499, 294)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf1" unique_id=187435732]
position = Vector2(1, -0.5)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Shelf2" type="StaticBody2D" parent="Platforms" unique_id=143559546]
position = Vector2(215, 294)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf2" unique_id=576037438]
position = Vector2(-0.875, -0.75)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Shelf3" type="StaticBody2D" parent="Platforms" unique_id=1514037618]
position = Vector2(215, 150)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf3" unique_id=470567573]
position = Vector2(-1, -0.5)
shape = SubResource("RectangleShape2D_o5qli")

[node name="Shelf4" type="StaticBody2D" parent="Platforms" unique_id=568626965]
position = Vector2(11, 219)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Shelf4" unique_id=1479471729]
position = Vector2(-0.5, 1.625)
shape = SubResource("RectangleShape2D_sugp2")

[node name="Cadre" type="StaticBody2D" parent="Platforms" unique_id=1031213744]
position = Vector2(835, 75)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Cadre" unique_id=518452548]
shape = SubResource("RectangleShape2D_tipki")

[node name="Ground" type="StaticBody2D" parent="." unique_id=1731318811]
position = Vector2(475.00003, 537)
scale = Vector2(1.5, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ground" unique_id=1645058030]
position = Vector2(0, 1.5)
shape = SubResource("RectangleShape2D_jyhfs")

[node name="WallLeft" type="StaticBody2D" parent="." unique_id=98253075]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallLeft" unique_id=217081376]
position = Vector2(-10, 272)
shape = SubResource("RectangleShape2D_tbgi4")

[node name="WallRight" type="StaticBody2D" parent="." unique_id=564108463]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallRight" unique_id=920841852]
position = Vector2(971, 285)
shape = SubResource("RectangleShape2D_tefeu")

[node name="Box" type="RigidBody2D" parent="." unique_id=962226803]
position = Vector2(215, 113)
mass = 0.002

[node name="CollisionShape2D" type="CollisionShape2D" parent="Box" unique_id=576251938]
shape = SubResource("RectangleShape2D_o6xl0")

[node name="Sprite2D" type="Sprite2D" parent="Box" unique_id=1141377628]
texture = ExtResource("5_choun")

[node name="Restock" type="StaticBody2D" parent="." unique_id=312312138]
position = Vector2(11, 144)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Restock" unique_id=263989171]
shape = SubResource("CircleShape2D_tbgi4")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Restock" unique_id=779891710]
sprite_frames = ExtResource("5_85g3d")
autoplay = "default"

[node name="Menu" parent="." unique_id=435941927 instance=ExtResource("8_tipki")]
visible = false
z_index = 1

[node name="MenuMusic" type="AudioStreamPlayer" parent="." unique_id=1685555097]
stream = ExtResource("10_trceg")
autoplay = true
parameters/looping = true

[node name="MainMusic" type="AudioStreamPlayer" parent="." unique_id=127968638]
stream = ExtResource("11_a8y0u")
parameters/looping = true

[node name="RipScotch" type="AudioStreamPlayer" parent="." unique_id=1216850612]
stream = ExtResource("6_tefeu")
volume_db = 4.0

[node name="UnrollScotch" type="AudioStreamPlayer" parent="." unique_id=1057637298]
stream = ExtResource("7_o6xl0")
volume_db = 3.193
parameters/looping = true

[connection signal="start_game" from="StartMenu" to="." method="_on_start_menu_start_game"]
[connection signal="end_grip" from="MaskingTape" to="." method="_on_masking_tape_end_grip"]
[connection signal="reroll" from="MaskingTape" to="." method="_on_masking_tape_reroll"]
[connection signal="start_grip" from="MaskingTape" to="." method="_on_masking_tape_start_grip"]
[connection signal="touch_or_leave_floor" from="MaskingTape" to="." method="_on_masking_tape_touch_or_leave_floor"]
[connection signal="touch_or_leave_wall" from="MaskingTape" to="." method="_on_masking_tape_touch_or_leave_wall"]
[connection signal="touch_restock" from="MaskingTape" to="." method="_on_masking_tape_touch_restock"]
[connection signal="button_selected" from="Menu" to="." method="_on_menu_button_selected"]
